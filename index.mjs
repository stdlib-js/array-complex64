// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-even@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-integer@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-iterator-symbol-support@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-float32@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-realf@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/complex-imagf@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex64@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex128@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-arraylike2object@esm/index.mjs";var E=r,x=s,T=y,_=b,k=c;var V=function(e){var r,t,n;for(r=[];!(t=e.next()).done;)if(n=t.value,E(n)&&n.length>=2)r.push(n[0],n[1]);else{if(!x(n))return new TypeError(k("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",n));r.push(T(n),_(n))}return r},L=r,R=s,A=y,B=b,M=c;var C=function(e,r,t){var n,i,a,o;for(n=[],o=-1;!(i=e.next()).done;)if(o+=1,a=r.call(t,i.value,o),L(a)&&a.length>=2)n.push(a[0],a[1]);else{if(!R(a))return new TypeError(M("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));n.push(A(a),B(a))}return n},O=s,S=y,P=b;var N=function(e,r){var t,n,i,a;for(t=r.length,a=0,i=0;i<t;i++){if(n=r[i],!O(n))return null;e[a]=S(n),e[a+1]=P(n),a+=2}return e},Y=e.isPrimitive,F=r,W=t,I=n,q=i,z=a,D=o,G=s,H=l,J=u,K=f,Q=m,U=h,X=d,Z=g,$=p,ee=c,re=y,te=b,ne=w,ie=v,ae=j,oe=V,se=C,le=N,ue=2*Z.BYTES_PER_ELEMENT,fe=K();function me(e){return e instanceof pe||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function he(e){return e===pe||"Complex128Array"===e.name}function de(e){return"object"==typeof e&&null!==e&&"Complex64Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===ue}function ge(e){return"object"==typeof e&&null!==e&&"Complex128Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===2*ue}function pe(){var e,r,t,n;if(r=arguments.length,!(this instanceof pe))return 0===r?new pe:1===r?new pe(arguments[0]):2===r?new pe(arguments[0],arguments[1]):new pe(arguments[0],arguments[1],arguments[2]);if(0===r)t=new Z(0);else if(1===r)if(Y(arguments[0]))t=new Z(2*arguments[0]);else if(W(arguments[0]))if((n=(t=arguments[0]).length)&&z(t)&&G(t[0])){if(null===(t=le(new Z(2*n),t))){if(!H(n))throw new RangeError(ee("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `%u`.",n));t=new Z(arguments[0])}}else{if(de(t))t=ne(t,0);else if(ge(t))t=ie(t,0);else if(!H(n))throw new RangeError(ee("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `%u`.",n));t=new Z(t)}else if(I(arguments[0])){if(!J((t=arguments[0]).byteLength/ue))throw new RangeError(ee("invalid argument. ArrayBuffer byte length must be a multiple of `%u`. Byte length: `%u`.",ue,t.byteLength));t=new Z(t)}else{if(!q(arguments[0]))throw new TypeError(ee("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(t=arguments[0],!1===fe)throw new TypeError(ee("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",t));if(!D(t[Q]))throw new TypeError(ee("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",t));if(t=t[Q](),!D(t.next))throw new TypeError(ee("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",t));if((t=oe(t))instanceof Error)throw t;t=new Z(t)}else{if(!I(t=arguments[0]))throw new TypeError(ee("invalid argument. First argument must be an array buffer. Value: `%s`.",t));if(!Y(e=arguments[1]))throw new TypeError(ee("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",e));if(!J(e/ue))throw new RangeError(ee("invalid argument. Byte offset must be a multiple of `%u`. Value: `%u`.",ue,e));if(2===r){if(n=t.byteLength-e,!J(n/ue))throw new RangeError(ee("invalid arguments. ArrayBuffer view byte length must be a multiple of `%u`. View byte length: `%u`.",ue,n));t=new Z(t,e)}else{if(!Y(n=arguments[2]))throw new TypeError(ee("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*ue>t.byteLength-e)throw new RangeError(ee("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*ue));t=new Z(t,e,2*n)}}return U(this,"_buffer",t),U(this,"_length",t.length/2),this}U(pe,"BYTES_PER_ELEMENT",ue),U(pe,"name","Complex64Array"),U(pe,"from",(function(e){var r,t,n,i,a,o,s,l,u,f,m;if(!D(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!he(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!D(n=arguments[1]))throw new TypeError(ee("invalid argument. Second argument must be a function. Value: `%s`.",n));t>2&&(r=arguments[2])}if(me(e)){if(s=e.length,n){for(a=(i=new this(s))._buffer,m=0,f=0;f<s;f++){if(u=n.call(r,e.get(f),f),G(u))a[m]=re(u),a[m+1]=te(u);else{if(!(F(u)&&u.length>=2))throw new TypeError(ee("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",u));a[m]=u[0],a[m+1]=u[1]}m+=2}return i}return new this(e)}if(W(e)){if(n){for(s=e.length,o=ae(e),f=0;f<s;f++)if(!G(o.getter(e,f))){l=!0;break}if(l){if(!H(s))throw new RangeError(ee("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",s));for(a=(i=new this(s/2))._buffer,f=0;f<s;f++)a[f]=n.call(r,o.getter(e,f),f);return i}for(a=(i=new this(s))._buffer,m=0,f=0;f<s;f++){if(u=n.call(r,o.getter(e,f),f),G(u))a[m]=re(u),a[m+1]=te(u);else{if(!(F(u)&&u.length>=2))throw new TypeError(ee("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",u));a[m]=u[0],a[m+1]=u[1]}m+=2}return i}return new this(e)}if(q(e)&&fe&&D(e[Q])){if(a=e[Q](),!D(a.next))throw new TypeError(ee("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",e));if((o=n?se(a,n,r):oe(a))instanceof Error)throw o;for(a=(i=new this(s=o.length/2))._buffer,f=0;f<s;f++)a[f]=o[f];return i}throw new TypeError(ee("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",e))})),U(pe,"of",(function(){var e,r;if(!D(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!he(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)})),X(pe.prototype,"buffer",(function(){return this._buffer.buffer})),X(pe.prototype,"byteLength",(function(){return this._buffer.byteLength})),X(pe.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),U(pe.prototype,"BYTES_PER_ELEMENT",pe.BYTES_PER_ELEMENT),U(pe.prototype,"copyWithin",(function(e,r){if(!me(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*r):this._buffer.copyWithin(2*e,2*r,2*arguments[2]),this})),U(pe.prototype,"entries",(function(){var e,r,t,n,i,a,o;if(!me(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return r=this,e=this._buffer,n=this._length,a=-1,o=-2,U(t={},"next",(function(){var r;if(a+=1,i||a>=n)return{done:!0};return r=new $(e[o+=2],e[o+1]),{value:[a,r],done:!1}})),U(t,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),Q&&U(t,Q,(function(){return r.entries()})),t})),U(pe.prototype,"get",(function(e){var r;if(!me(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Y(e))throw new TypeError(ee("invalid argument. Must provide a nonnegative integer. Value: `%s`.",e));if(!(e>=this._length))return r=this._buffer,new $(r[e*=2],r[e+1])})),X(pe.prototype,"length",(function(){return this._length})),U(pe.prototype,"set",(function(e){var r,t,n,i,a,o,s,l,u;if(!me(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!Y(t=arguments[1]))throw new TypeError(ee("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",t))}else t=0;if(G(e)){if(t>=this._length)throw new RangeError(ee("invalid argument. Index argument is out-of-bounds. Value: `%u`.",t));return n[t*=2]=re(e),void(n[t+1]=te(e))}if(me(e)){if(t+(o=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e._buffer,u=n.byteOffset+t*ue,r.buffer===n.buffer&&r.byteOffset<u&&r.byteOffset+r.byteLength>u){for(i=new Z(r.length),l=0;l<r.length;l++)i[l]=r[l];r=i}for(t*=2,u=0,l=0;l<o;l++)n[t]=r[u],n[t+1]=r[u+1],t+=2,u+=2}else{if(!W(e))throw new TypeError(ee("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",e));for(o=e.length,l=0;l<o;l++)if(!G(e[l])){a=!0;break}if(a){if(!H(o))throw new RangeError(ee("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",o));if(t+o/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e,u=n.byteOffset+t*ue,r.buffer===n.buffer&&r.byteOffset<u&&r.byteOffset+r.byteLength>u){for(i=new Z(o),l=0;l<o;l++)i[l]=r[l];r=i}for(t*=2,o/=2,u=0,l=0;l<o;l++)n[t]=r[u],n[t+1]=r[u+1],t+=2,u+=2;return}if(t+o>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,l=0;l<o;l++)s=e[l],n[t]=re(s),n[t+1]=te(s),t+=2}}));var ce=pe;export{ce as default};
//# sourceMappingURL=index.mjs.map
